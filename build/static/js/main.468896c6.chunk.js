(this["webpackJsonpreact-nextagram"]=this["webpackJsonpreact-nextagram"]||[]).push([[0],{47:function(e,t,c){},48:function(e,t,c){},82:function(e,t,c){"use strict";c.r(t);var a=c(1),s=c.n(a),n=c(16),r=c.n(n),o=(c(47),c(10)),i=c(15),l=(c(48),c(7)),j=c(11),u=c.n(j),d=c.p+"static/media/spinnerloading.892a41ba.gif",b=c(2);var O=function(){return Object(b.jsx)("div",{className:"LoadingIndicator",children:Object(b.jsx)("img",{src:d,className:"loading"})})},h=c(21),g=c.n(h);var p=function(e){var t=e.userID,c=Object(a.useState)([]),s=Object(l.a)(c,2),n=s[0],r=s[1],o=Object(a.useState)(!0),i=Object(l.a)(o,2),j=i[0],d=i[1];return Object(a.useEffect)((function(){u.a.get("https://insta.nextacademy.com/api/v2/images?userId="+t).then((function(e){d(!1),r(e.data)})).catch((function(e){console.log("ERROR: ",e)}))}),[]),j?Object(b.jsx)(O,{}):Object(b.jsx)("div",{className:"userimages",children:n.map((function(e){return Object(b.jsx)("div",{className:"photo",children:Object(b.jsx)(g.a,{src:e.url,width:"300",height:"300",alt:"My awesome image"})},e.id)}))})};var m=function(e){var t=e.user;return Object(b.jsxs)("div",{className:"userInfo",children:[Object(b.jsx)(g.a,{src:t.profileImage,width:"150",height:"150 ",alt:"My awesome image"}),Object(b.jsx)("p",{className:"username",children:t.username}),Object(b.jsx)("p",{className:"userid",children:t.id})]})};var x=function(){var e=Object(a.useState)([]),t=Object(l.a)(e,2),c=t[0],s=t[1],n=Object(a.useState)(!0),r=Object(l.a)(n,2),o=r[0],i=r[1];return Object(a.useEffect)((function(){u.a.get("https://insta.nextacademy.com/api/v1/users").then((function(e){i(!1),s(e.data)})).catch((function(e){console.log("ERROR: ",e)}))}),[]),o?Object(b.jsx)(O,{}):Object(b.jsxs)("div",{className:"HomePage",children:[Object(b.jsx)("h1",{children:"Home Page"}),c.map((function(e){return Object(b.jsxs)("div",{className:"userContainer",children:[Object(b.jsx)(m,{user:e}),Object(b.jsx)(p,{userID:e.id})]},e.id)}))]})},f=function(){var e=Object(o.f)(),t=Object(a.useState)({}),c=Object(l.a)(t,2),s=c[0],n=c[1];console.log(e.id);var r=Object(a.useState)(!0),i=Object(l.a)(r,2),j=i[0],d=i[1];return Object(a.useEffect)((function(){u.a.get("https://insta.nextacademy.com/api/v1/users/".concat(e.id)).then((function(e){d(!1),n(e.data)})).catch((function(e){console.log("ERROR: ",e)}))}),[]),j?Object(b.jsx)(O,{}):Object(b.jsxs)("div",{className:"userProfilePage",children:[Object(b.jsx)("h1",{children:"UserProfilePage"}),Object(b.jsx)(m,{user:s}),Object(b.jsx)(p,{userID:e.id}),console.log(s.id)]})},v=c(91),C=c(92),k=c(93),S=c(94),y=c(95),I=c(96),N=c(97),w=c(83),P=c(84),D=c(85);var R=function(e){var t=e.toggleNested,c=Object(a.useState)(""),s=Object(l.a)(c,2),n=s[0],r=s[1],o=Object(a.useState)(""),j=Object(l.a)(o,2),d=j[0],O=j[1],h=Object(a.useState)(void 0),g=Object(l.a)(h,2),p=g[0],m=g[1],x=function(){u.a.get("https://insta.nextacademy.com/api/v1/users/me",{headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then((function(e){m(e.data),console.log(e.data),localStorage.setItem("userID",e.data.id)}))};return Object(a.useEffect)((function(){localStorage.getItem("token")&&x()}),[]),p?Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("h1",{children:p.email}),Object(b.jsx)("h1",{children:p.username}),Object(b.jsx)(w.a,{color:"danger",onClick:function(){localStorage.removeItem("token"),m(void 0),localStorage.setItem("userID","")},children:"Log Out"})]}):Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)(P.a,{for:"userName",children:"Username"}),Object(b.jsx)(D.a,{type:"text",id:"userName",placeholder:"username",value:n,onChange:function(e){r(e.target.value)}}),Object(b.jsx)(P.a,{for:"password",children:"Password"}),Object(b.jsx)(D.a,{type:"password",id:"password",placeholder:"password",value:d,onChange:function(e){O(e.target.value)}}),Object(b.jsx)("br",{}),Object(b.jsx)(w.a,{color:"success",onClick:function(){u.a.post("https://insta.nextacademy.com/api/v1/login",{username:n,password:d}).then((function(e){r(""),O(""),localStorage.setItem("token",e.data.auth_token),x(),i.b.success("Welcome back ".concat(n,"!"),{position:"top-center",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})})).catch((function(e){console.error(e.response),i.b.error("Login unsuccessful. Please make sure that yout username and password are correct.",{position:"top-center",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})}))},children:"Login"}),Object(b.jsxs)("p",{children:["Not a user yet? ",Object(b.jsx)("a",{className:"link-primary",onClick:t,children:"click here"})," to make an account."]})]})};var B=function(){var e=Object(a.useState)(""),t=Object(l.a)(e,2),c=t[0],s=t[1],n=Object(a.useState)(""),r=Object(l.a)(n,2),o=r[0],j=r[1],d=Object(a.useState)(""),O=Object(l.a)(d,2),h=O[0],g=O[1];return Object(b.jsx)("div",{children:Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)(P.a,{for:"userName",children:"Username"}),Object(b.jsx)(D.a,{type:"text",id:"username",placeholder:"username",value:c,onChange:function(e){s(e.target.value)}}),Object(b.jsx)(P.a,{for:"email",children:"Email"}),Object(b.jsx)(D.a,{type:"text",id:"email",placeholder:"email",value:o,onChange:function(e){j(e.target.value)}}),Object(b.jsx)(P.a,{for:"password",children:"Password"}),Object(b.jsx)(D.a,{type:"text",id:"password",placeholder:"password",value:h,onChange:function(e){g(e.target.value)}}),Object(b.jsx)("br",{}),Object(b.jsx)(w.a,{color:"success",onClick:function(){u.a.post("https://insta.nextacademy.com/api/v1/users/",{username:c,email:o,password:h}).then((function(e){s(""),j(""),g(""),console.log("the user has been successfully added to  the database"),i.b.success("Dear ".concat(c,", welcome to Nextagram!"),{position:"top-center",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})})).catch((function(e){console.error(e.response),i.b.error("There was an error signing you up. Try another username, emailadress or password",{position:"top-center",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})}))},children:"Create account"})]})})},L=c(98),U=c(86),H=c(87),E=c(88),F=function(e){e.buttonLabel;var t=e.className,c=Object(a.useState)(!1),s=Object(l.a)(c,2),n=s[0],r=s[1],o=Object(a.useState)(!1),i=Object(l.a)(o,2),j=i[0],u=i[1],d=Object(a.useState)(!1),O=Object(l.a)(d,2),h=O[0],g=O[1],p=function(){return r(!n)},m=function(){u(!j),g(!1)};return Object(b.jsxs)("div",{children:[Object(b.jsx)(w.a,{color:"primary",onClick:p,children:"Sign In"}),Object(b.jsx)(w.a,{outline:!0,color:"primary",onClick:function(){r(!n),m()},children:"Sign Up"}),Object(b.jsxs)(L.a,{isOpen:n,toggle:p,className:t,children:[Object(b.jsx)(U.a,{children:"Sign In"}),Object(b.jsxs)(H.a,{children:[Object(b.jsx)(R,{toggleNested:m}),Object(b.jsxs)(L.a,{isOpen:j,toggle:m,onClosed:h?p:void 0,children:[Object(b.jsx)(U.a,{children:"Create an account"}),Object(b.jsx)(H.a,{children:Object(b.jsx)(B,{})}),Object(b.jsxs)(E.a,{children:[Object(b.jsxs)("p",{children:["Already have an account? ",Object(b.jsx)("a",{className:"link-primary",onClick:m,children:"Sign in here"})]}),Object(b.jsx)(w.a,{color:"danger",onClick:function(){u(!j),g(!0)},children:"Cancel"})]})]})]}),Object(b.jsx)(E.a,{children:Object(b.jsx)(w.a,{color:"danger",onClick:p,children:"Cancel"})})]})]})},T=c(22),M=c(89),A=c(90),z=c(42),J=function(){var e=Object(a.useState)(null),t=Object(l.a)(e,2),c=t[0],s=t[1],n=Object(a.useState)(null),r=Object(l.a)(n,2),o=r[0],j=r[1],d=Object(a.useState)(""),O=Object(l.a)(d,2),h=O[0],g=O[1],p=function(){var e=localStorage.getItem("token"),t=new FormData;t.append("image",c),u.a.post("https://insta.nextacademy.com/api/v1/images/",t,{headers:{Authorization:"Bearer ".concat(e)}}).then((function(e){e.data.success&&(g("Image Uploaded Successfully!"),j(null),s(null),i.b.success("Your image has successfully been uploaded!",{position:"top-center",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0}))})).catch((function(e){console.log(e.response),i.b.error("There was a problem upload your image. Please try again.",{position:"top-center",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})}))};return Object(b.jsxs)("div",{className:"UploadImageComponent",children:[Object(b.jsx)(z.a,{onDrop:function(e){e.preventDefault(),p()},children:function(e){var t=e.getRootProps,c=e.getInputProps;return Object(b.jsx)("section",{children:Object(b.jsxs)("div",Object(T.a)(Object(T.a)({},t()),{},{children:[Object(b.jsx)("input",Object(T.a)({},c())),Object(b.jsx)("p",{children:"Drag 'n' drop some files here, or click to select files"})]}))})}}),Object(b.jsxs)(M.a,{onSubmit:function(e){e.preventDefault(),p()},children:[Object(b.jsxs)(A.a,{children:[Object(b.jsx)(D.a,{type:"file",name:"image-file",onChange:function(e){s(e.target.files[0]),j(URL.createObjectURL(e.target.files[0])),s(e.target.files[0])}}),Object(b.jsx)("div",{className:"card",children:o?Object(b.jsx)("img",{src:o,width:"50%",height:"50%"}):Object(b.jsx)("p",{className:"text-center",children:h||"Make sure the image being uploaded is a supported format."})})]}),Object(b.jsx)(w.a,{type:"submit",color:"success",children:"Upload"})]})]})},W=function(e){e.buttonLabel;var t=e.className,c=Object(a.useState)(!1),s=Object(l.a)(c,2),n=s[0],r=s[1],o=function(){return r(!n)};return Object(b.jsxs)("div",{children:[Object(b.jsx)(w.a,{color:"success",onClick:o,children:"Upload Image"}),Object(b.jsxs)(L.a,{isOpen:n,toggle:o,className:t,children:[Object(b.jsx)(U.a,{children:"Upload Image"}),Object(b.jsx)(H.a,{children:Object(b.jsx)(J,{})}),Object(b.jsx)(E.a,{children:Object(b.jsx)(w.a,{color:"danger",onClick:o,children:"Cancel"})})]})]})},Y=function(){var e=Object(a.useState)(!1),t=Object(l.a)(e,2),c=t[0],s=t[1],n=Object(o.e)();return Object(b.jsx)("div",{children:Object(b.jsxs)(v.a,{color:"dark",dark:!0,expand:"md",children:[Object(b.jsx)(C.a,{onClick:function(){n.push("/")},children:"Nextagram"}),Object(b.jsx)(k.a,{onClick:function(){return s(!c)}}),Object(b.jsx)(S.a,{isOpen:c,navbar:!0,children:Object(b.jsxs)(y.a,{className:"ml-auto",navbar:!0,children:[Object(b.jsx)(I.a,{children:Object(b.jsx)(N.a,{onClick:function(){n.push("/")},children:" Home"})}),Object(b.jsx)(I.a,{children:Object(b.jsx)(N.a,{style:function(){if(""==localStorage.getItem("userID"))return{display:"none"}}(),onClick:function(){n.push("/users/"+localStorage.getItem("userID"))},children:"My Profile"})})]})}),Object(b.jsx)(W,{}),Object(b.jsx)(F,{})]})})};var _=function(){return Object(b.jsxs)("div",{children:[Object(b.jsx)(i.a,{position:"top-center",autoClose:5e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0}),Object(b.jsx)(Y,{}),Object(b.jsx)(o.a,{exact:!0,path:"/",component:x}),Object(b.jsx)(o.a,{path:"/users/:id",component:f}),Object(b.jsx)(o.a,{path:"/signup",component:B})]})},q=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,99)).then((function(t){var c=t.getCLS,a=t.getFID,s=t.getFCP,n=t.getLCP,r=t.getTTFB;c(e),a(e),s(e),n(e),r(e)}))},G=c(20);c(80),c(81);r.a.render(Object(b.jsx)(s.a.StrictMode,{children:Object(b.jsx)(G.a,{children:Object(b.jsx)(_,{})})}),document.getElementById("root")),q()}},[[82,1,2]]]);
//# sourceMappingURL=main.468896c6.chunk.js.map